<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>GPU Cloud Dashboard</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
body { padding: 20px; }
button { margin: 5px; }
</style>
</head>
<body>
<h2>GPU Cloud Control</h2>

<div class="mb-3">
  <label for="request_id" class="form-label">Request ID</label>
  <input type="text" id="request_id" class="form-control" placeholder="Enter your request ID">
</div>

<div>
  <button class="btn btn-primary" onclick="trigger('run_simulation')">â–¶ï¸ Run Simulation</button>
  <button class="btn btn-warning" onclick="trigger('pause_simulation')">â¸ï¸ Pause Simulation</button>
  <button class="btn btn-success" onclick="trigger('resume_simulation')">ğŸ” Resume Simulation</button>
  <button class="btn btn-danger" onclick="trigger('stop_simulation')">ğŸ›‘ Stop Simulation</button>
  <button class="btn btn-info" onclick="trigger('show_credits')">ğŸ’° Show Credit Usage</button>
</div>

<script>
function trigger(action) {
  const requestId = document.getElementById('request_id').value.trim();
  if(!requestId) { alert('Please enter Request ID'); return; }

  const webhookUrl = ` https://nonserially-unpent-jin.ngrok-free.dev/webhook/${action}?request_id=${encodeURIComponent(requestId)}`;
  
  fetch(webhookUrl, { method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ request_id: requestId })
  })
    .then(r => r.text())
    .then(msg => alert(msg))
    .catch(err => alert('Error: ' + err));
}
</script>
</body>
</html>
